{"version":3,"file":"interface-auto.js","sources":["../src/interface-auto.js"],"sourcesContent":["const chalk = require('chalk');\nconst fs = require('fs');\nconst generate = require('json-schema-to-typescript');\n// const schema1 = require('../schema.json'); // 引入你的 schema 文件\n\nconst path = require('path');\nasync function generateTypes() {\n  try {\n  const currentDir = process.cwd();\n  let schema = path.join(currentDir, 'schema.json'); // 引入你的 schema 文件\n  if(!fs.existsSync(schema)) {\n    // 如果不存在，则创建\n     schema = path.join(__dirname,'../', 'template' ,'schema.json');\n    const readSchema = fs.readFileSync(schema, 'utf-8');\n    const targetPath = path.join(currentDir, 'schema.json');\n    await fs.writeFileSync(targetPath, readSchema);\n  } \n   // const schemaContent = fs.readFile(schema, 'utf-8'); // 读取 schema 文件内容\n   const schemaContent = require(schema); // 读取 schema 文件内容\n   const typeName = 'PageProps'; // 你想要生成的 TypeScript 接口名称\n   const tsType = await generate.compile(schemaContent, typeName); // 生成 TypeScript 类型定义\n   fs.writeFileSync('interface.ts', tsType); // 将类型定义写入文件\n   console.log(\n     chalk.green(\n       '=========Typescript interface generated successfully========='\n     )\n   );\n  } catch (error) {\n    console.error(\n      chalk.yellow('请检查项目根目录是否有schma.json文件或文件格式是否正确'),\n      error\n    );\n  }\n}\n\ngenerateTypes(); // 调用函数生成类型定义\n"],"names":["chalk","require","fs","generate","path","async","currentDir","process","cwd","schema","join","existsSync","__dirname","readSchema","readFileSync","targetPath","writeFileSync","schemaContent","typeName","tsType","compile","console","log","green","error","yellow","generateTypes"],"mappings":";aAAA,MAAMA,EAAQC,QAAQ,SAChBC,EAAKD,QAAQ,MACbE,EAAWF,QAAQ,6BAGnBG,EAAOH,QAAQ,SACrBI,iBACE,IACA,MAAMC,EAAaC,QAAQC,MAC3B,IAAIC,EAASL,EAAKM,KAAKJ,EAAY,eACnC,IAAIJ,EAAGS,WAAWF,GAAS,CAExBA,EAASL,EAAKM,KAAKE,UAAU,MAAO,WAAY,eACjD,MAAMC,EAAaX,EAAGY,aAAaL,EAAQ,SACrCM,EAAaX,EAAKM,KAAKJ,EAAY,qBACnCJ,EAAGc,cAAcD,EAAYF,EACrC,CAEC,MAAMI,EAAgBhB,QAAQQ,GACxBS,EAAW,YACXC,QAAehB,EAASiB,QAAQH,EAAeC,GACrDhB,EAAGc,cAAc,eAAgBG,GACjCE,QAAQC,IACNtB,EAAMuB,MACJ,iEAGJ,CAAC,MAAOC,GACPH,QAAQG,MACNxB,EAAMyB,OAAO,oCACbD,EAEJ,CACF,CAEAE"}