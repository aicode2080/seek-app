import e from"chalk";import o from"fs";import t from"json-schema-to-typescript";import c,{dirname as r}from"path";import{fileURLToPath as s}from"url";const n=r(s(import.meta.url));!async function(){try{const r=process.cwd();let s=c.join(r,"schema.json");if(!o.existsSync(s)){s=c.join(n,"../","template","schema.json");const e=o.readFileSync(s,"utf-8"),t=c.join(r,"schema.json");await o.writeFileSync(t,e)}const i=JSON.parse(o.readFileSync(s,"utf-8")),a="PageProps",m=await t.compile(i,a);o.writeFileSync("interface.ts",m),console.log(e.green("=========Typescript interface generated successfully========="))}catch(o){console.error(e.yellow("请检查项目根目录是否有schma.json文件或文件格式是否正确"),o)}}();
