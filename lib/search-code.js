import e from"inquirer";import o from"fs";import t,{dirname as n}from"path";import r from"commander";import{fileURLToPath as a}from"url";const i=JSON.parse(o.readFileSync(t.join(c,"../package.json"),"utf8")).version,c=n(a(import.meta.url)),s=t.join(c,"../code-template");!async function(){r.version(i).action((async()=>{await async function(){const n=(await e.prompt([{type:"input",name:"text",message:"请输入搜索词：",default:"美化滚动条"}])).text;console.log(`您输入了${n}, 正在搜索中...`),async function(n){try{console.log(s);const r=await async function(e,n,r){try{var a;let i=[];const c=await o.readdirSync(e);let s;return s="*"===n?c:c.filter((e=>t.extname(e)===`.${n}`)),console.log(`Files of type .${n} in ${e}:`),(null===(a=s)||void 0===a?void 0:a.length)>0?i=await s.filter((e=>e.indexOf(r)>-1)):(reject(new Error("没有找到匹配的代码片段")),console.log("没有找到匹配的代码片段")),console.log(i),i}catch(o){console.error(`Error reading directory ${e}:`,o)}}(s,"*",n),a=r.map(((e,o)=>({name:e,value:o+1}))),{selectedFileIndex:i}=await e.prompt([{type:"list",name:"selectedFileIndex",message:"请选择代码片段文件:",choices:a}]),c=r[i-1],l=t.join(s,c),m=await o.readFileSync(l,"utf8");console.log(m)}catch(e){console.error(e.message)}}(n)}()}))}(),r.parse(process.argv);
